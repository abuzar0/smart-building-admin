<app-dashboard-header [title]="'roles_responsibilities.title' | translate"
    [description]="'roles_responsibilities.description' | translate"
    (handleCreateBtn)="handleCreateEvent()" [btnText]="'roles_responsibilities.create_button.' + activeTab.toLowerCase() | translate"
     [isShowCreateBtn]="getPermission(activeTab)"
    [viewType]="viewType" (toggleView)="toggleView($event)">
</app-dashboard-header>



<div class="row mx-3 mt-2">
    <ul class="gap-2 nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="roles-tab" data-bs-toggle="tab" data-bs-target="#roles" type="button"
                role="tab" aria-controls="roles" aria-selected="true" (click)="handleTab('Role')"> {{ 'roles_responsibilities.tabs.role' | translate }}</button>
        </li>
        @if(this.userInfo.role=='super_owner'){
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="permissions-tab" data-bs-toggle="tab" data-bs-target="#permissions"
                type="button" role="tab" aria-controls="permissions" aria-selected="false"
                (click)="handleTab('Permission')"> {{ 'roles_responsibilities.tabs.permission' | translate }}</button>
        </li>
        }
    </ul>
</div>

<div class="row mx-2">
    <div class="tab-content" id="myTabContent">
        <!-- Roles Tab -->
        <div class="tab-pane fade show active" id="roles" role="tabpanel" aria-labelledby="roles-tab">
            <div class=" mt-3">
                @if (viewType=='grid') {
                <app-grid-view-role (handleDelete)="handleDelete($event)" (handleEdit)="handleEdit($event)"
                    [data]="roles"></app-grid-view-role>
                }@else {
                <app-list-view-role (handleEditEvent)="handleEdit($event)" (handleDeleteEvent)="handleDelete($event)"
                    [data]="roles"></app-list-view-role>
                }
            </div>
        </div>

        <!-- Permissions Tab -->
        <div class="tab-pane fade" id="permissions" role="tabpanel" aria-labelledby="permissions-tab">
            @if (viewType=='grid') {
            <app-grid-view-permission [data]="permission"
                (handleDelete)="handleDelete($event)"></app-grid-view-permission>
            }@else {
            <app-list-view-permission [data]="permission"
                (handleDeleteEvent)="handleDelete($event)"></app-list-view-permission>
            }
        </div>

    </div>
</div>